<?xml version="1.0" encoding="UTF-8" ?>
<Module>
  <ModulePrefs
    title="gCalBirthdays"
    title_url="http://gcalbirthdays.googlecode.com"
    author="Frank Glaser"
    author_email="GlaserFrank@gmail.com"
    scrolling="true">
    <Require feature="google.calendar-0.5"/>
    <Require feature="dynamic-height"/>
    <Require feature="setprefs"/>
    <OAuth>
      <Service name="google">
        <Access url="https://www.google.com/accounts/OAuthGetAccessToken" method="GET" />
    	<Request url="https://www.google.com/accounts/OAuthGetRequestToken?scope=http://www.google.com/m8/feeds/%20http://www.google.com/calendar/feeds/" method="GET" />
        <Authorization url="https://www.google.com/accounts/OAuthAuthorizeToken?oauth_callback=http://oauth.gmodules.com/gadgets/oauthcallback" />
      </Service>
    </OAuth>
    <UserPref name="test" display_name="Color" default_value="Yellow" datatype="hidden"/>
  </ModulePrefs>
  <Content type="html">
  	<![CDATA[


<!--
	this file includes all tools together with the jQuery library
-->
<script src="http://cdn.jquerytools.org/1.0.2/jquery.tools.min.js"></script>



<link rel="stylesheet" type="text/css" href="http://static.flowplayer.org/tools/css/overlay-minimal.css"/>

<style>

/* use a semi-transparent image for the overlay */
#overlay {
	background-image:url(http://static.flowplayer.org/img/overlay/transparent.png);
	color:#efefef;
}

/* container for external content. uses vertical scrollbar, if needed */
div.wrap {
	height:441px;
	overflow-y:auto;
}
</style>



<!-- external page is given in the href attribute (as it should be) -->
<a href="http://www.google.com" rel="#overlay">

	<!-- remember that you can use any element inside the anchor tag -->

	<button type="button">Show external page in overlay</button>
</a>

<!-- overlayed element -->
<div class="overlay" id="overlay">

	<!-- the external content is loaded inside this tag -->
	<div class="wrap"></div>

</div>

<!-- make all links with the 'rel' attribute open overlays -->
<script>


gadgets.util.registerOnLoadHandler($(function() {

	// if the function argument is given to overlay, it is assumed to be the onBeforeLoad event listener
	$("a[rel]").overlay(function() {

		// grab wrapper element inside content
		var wrap = this.getContent().find("div.wrap");

		// load only for the first time it is opened
		if (wrap.is(":empty")) {
			wrap.load(this.getTrigger().attr("href"));
		}
	});
}););

</script>


	]]>
  </Content>
</Module>
